谈谈对dubbo的理解

​	网站架构有一个重要指标,可扩展性，而针对该指标目前最好的解决方案就是分布式系统服务：即将一整个大的系统服务按照业务需求逻辑与业务服务进行细分，将它们独立自成多个小的系统，降低系统整体的耦合度，提高系统整体的灵活性，使系统整体更容易扩展、维护、负载均衡；要想实现这些就必须要有通信技术实现多个业务与服务之间的调用、消息传递。

​	dubbo就是针对业务与服务之间调用的解决方案：基于接口的远程方法调用、服务的自动注册与发现、智能容错与负载均衡。它是以生产者与消费者模式去实现的：通过将service发布为war包，使用duboo将其注册到注册中心，并暴露自身的服务地址以提供消费；而controller则依赖service实现的接口，用dubbo的注解注明需要远程调用该接口的实现，同时配置注册中心的地址，在需要消费时则在注册中心查找。通过dubbo技术实现了分布式服务远程方法调用很容易实现业务的扩展与维护：只需将新的业务注册到注册中心由服务调用即可实现扩展；业务变更时修改对应的业务模块即可，对其他业务的影响可以降到最低

​	dubbo使用的关系说明：服务提供者（service）在启动时，向注册中心注册自身以方便提供服务；服务消费者（controller）启动时，向注册中心订阅自己所需要的服务；注册中心返回服务提供者地址列表供服务消费者使用，如果有变更，注册中心将基于长连接推送变更给服务消费者；服务消费者从服务提供者地址列表中，基于软负载均衡算法，选择服务进行消费，若是消费失败，则更换消费；服务消费者和服务提供者在内存中会计算调用次数和调用时间，将这些监控数据发送到监控中心，方便开发人员分析分布式系统中服务压力。

​	基于前文充分说明了dubbo这类产品在分布式系统中的重要性，所以部署dubbo的注册中心的服务器就显得异常重要：dubbo挂了，整个分布式系统都会挂，针对dubbo注册中心进行集群是必要的。

​	dubbo注册中心最常用的是zookeeper：注册中心不转发请求（由具体的服务去做），是一个树形的目录服务，负责服务地址的注册与查找（生产者与消费者），支持变更推送（基于长连接将数据变更推送给消费者），因此相当适合作为dubbo的注册中心。zookeeper集群由选举产生leader(主服务器)，当主服务器挂掉后会重新选举产生主服务器，原先的主服务器恢复后对现状不会有任何影响。



